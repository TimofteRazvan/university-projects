<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>repository.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include "repository.h"

Repo::Repo()
<span style = "background-color:#dfd">{
}</span>

int Repo::addCoat(const Coat&amp; newCoat)
<span style = "background-color:#dfd">{
	int size = array.getSize();
	Coat* all = array.getAllElems();
	for (int i = 0; i &lt; size; i++)</span>
	{
<span style = "background-color:#dfd">		if (newCoat.getPhotograph() == all[i].getPhotograph())
			return 1;
	}</span>
	//array + newCoat;
<span style = "background-color:#dfd">	newCoat + array;</span>
	//array.operator+(newCoat);
	//array.add(newCoat);
<span style = "background-color:#dfd">	return 0;
}</span>

int Repo::deleteCoat(string photo)
<span style = "background-color:#dfd">{
	int size = array.getSize();
	Coat* all = array.getAllElems();
	for (int i = 0; i &lt; size; i++)</span>
	{
<span style = "background-color:#dfd">		if (photo == all[i].getPhotograph())</span>
		{
<span style = "background-color:#dfd">			array.del(i);
			return 0;</span>
		}
<span style = "background-color:#dfd">	}
	return 1;
}</span>

int Repo::updateCoat(string photo, string _size, string _colour, int _price, int _quantity, string _photo)
<span style = "background-color:#dfd">{
	int size = array.getSize();
	Coat* all = array.getAllElems();
	for (int i = 0; i &lt; size; i++)</span>
	{
<span style = "background-color:#dfd">		if (photo == all[i].getPhotograph())</span>
		{
<span style = "background-color:#dfd">			if (_quantity == 0)</span>
<span style = "background-color:#fdd">				array.del(i);</span>
			else
			{
<span style = "background-color:#dfd">				all[i].setSize(_size);
				all[i].setColour(_colour);
				all[i].setPrice(_price);
				all[i].setQuantity(_quantity);
				all[i].setPhotograph(_photo);</span>
			}
<span style = "background-color:#dfd">			return 0;</span>
		}
<span style = "background-color:#dfd">	}
	return 1;
}</span>

Coat* Repo::getAll() const
<span style = "background-color:#dfd">{
	return array.getAllElems();
}</span>

Coat* Repo::getCart() const
<span style = "background-color:#dfd">{
	return cart.getAllElems();
}</span>

Coat* Repo::getFilter() const
<span style = "background-color:#dfd">{
	return filter.getAllElems();
}</span>

int Repo::getSize() const
<span style = "background-color:#dfd">{
	return array.getSize();
}</span>

int Repo::getCartSize() const
<span style = "background-color:#dfd">{
	return cart.getSize();
}</span>

int Repo::getFilterSize() const
<span style = "background-color:#dfd">{
	return filter.getSize();
}</span>

void Repo::filterSize(string size)
<span style = "background-color:#dfd">{
	int capacity = array.getSize();
	Coat* all = array.getAllElems();
	if (size != "\0")</span>
	{
		
<span style = "background-color:#dfd">		for (int i = 0; i &lt; capacity; i++)</span>
		{
<span style = "background-color:#dfd">			if (size == all[i].getSize())
				filter.add(all[i]);
		}
	}</span>
	else
	{
<span style = "background-color:#dfd">		for (int i = 0; i &lt; capacity; i++)</span>
		{
<span style = "background-color:#dfd">			filter.add(all[i]);
		}</span>
	}
<span style = "background-color:#dfd">}</span>

void Repo::addToCart(const Coat&amp; newCoat)
<span style = "background-color:#dfd">{
	int size = cart.getSize();
	Coat* all = cart.getAllElems();
	cart.add(newCoat);
}</span>

void Repo::testRepo()
<span style = "background-color:#dfd">{
	Repo repo;
	Coat coat("XXL", "Blue", 100, 15, "Link_1");
	assert(array.getSize() == 0);
	assert(addCoat(coat) == 0);
	assert(array.getSize() == 1);
	Coat coat_copy("XL", "Red", 100, 20, "Link_1");
	assert(addCoat(coat_copy) == 1);
	assert(array.getSize() == 1);</span>

<span style = "background-color:#dfd">	deleteCoat("Link_1");
	assert(array.getSize() == 0);
	addCoat(coat_copy);
	deleteCoat("Link");
	assert(array.getSize() == 1);
	assert(deleteCoat("Link_1") == 0);
	assert(deleteCoat("Link") == 1);</span>

<span style = "background-color:#dfd">	addCoat(coat);
	assert(updateCoat("Link_1", "XL", "Blue", 100, 50, "Link") == 0);
	assert(updateCoat("Link_1", "L", "Red", 100, 50, "Link") == 1);</span>

<span style = "background-color:#dfd">	string red = "Red", yellow = "Yellow", blue = "Blue", black = "Black";
	string s = "S", l = "L", x = "X", xl = "XL", xxl = "XXL";
	Coat coat1(xxl, red, 250, 30, "Link_1");
	Coat coat2(xxl, yellow, 250, 30, "Link_2");
	Coat coat3(xxl, blue, 250, 30, "Link_3");
	Coat coat4(xxl, black, 250, 30, "Link_4");
	Coat coat5(xl, blue, 350, 30, "Link_5");
	Coat coat6(xl, red, 350, 30, "Link_6");
	Coat coat7(xl, yellow, 350, 30, "Link_7");
	Coat coat8(l, red, 300, 30, "Link_8");
	Coat coat9(l, black, 300, 30, "Link_9");
	Coat coat10(s, yellow, 300, 30, "Link_10");
	addCoat(coat1);
	addCoat(coat2);
	addCoat(coat3);
	addCoat(coat4);
	addCoat(coat5);
	addCoat(coat6);
	addCoat(coat7);
	addCoat(coat8);
	addCoat(coat9);
	addCoat(coat10);</span>
	
<span style = "background-color:#dfd">	Coat* cart = getCart();
	Coat* filter = getFilter();
	Coat* all = getAll();
	string none = "\0";
	assert(cart[0].getColour() == none);
	assert(filter[0].getColour() == none);
	assert(all[0].getColour() != none);
	assert(getCartSize() == 0);
	assert(getFilterSize() == 0);
	assert(getSize() != 0);</span>

<span style = "background-color:#dfd">	addToCart(coat7);
	assert(getCartSize() == 1);
	assert(cart[0].getColour() == yellow);</span>

<span style = "background-color:#dfd">	filterSize(xxl);
	assert(getFilterSize() == 4);
	assert(filter[2].getColour() == blue);</span>

<span style = "background-color:#dfd">	filterSize(none);
	assert(getFilterSize() != 4 &amp;&amp; getFilterSize() != 0);</span>

<span style = "background-color:#dfd">	assert(all != NULL);
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>